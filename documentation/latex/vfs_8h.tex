\hypertarget{vfs_8h}{}\section{C\+:/\+Users/\+Royal/\+Desktop/sfarro/sfarro/src/vfs.h File Reference}
\label{vfs_8h}\index{C\+:/\+Users/\+Royal/\+Desktop/sfarro/sfarro/src/vfs.\+h@{C\+:/\+Users/\+Royal/\+Desktop/sfarro/sfarro/src/vfs.\+h}}
{\ttfamily \#include $<$fuse.\+h$>$}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$unistd.\+h$>$}\\*
{\ttfamily \#include $<$fcntl.\+h$>$}\\*
{\ttfamily \#include $<$dirent.\+h$>$}\\*
{\ttfamily \#include $<$errno.\+h$>$}\\*
{\ttfamily \#include $<$sys/time.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$sys/types.\+h$>$}\\*
{\ttfamily \#include $<$ctype.\+h$>$}\\*
{\ttfamily \#include $<$pthread.\+h$>$}\\*
{\ttfamily \#include $<$fuse/fuse\+\_\+lowlevel.\+h$>$}\\*
{\ttfamily \#include \char`\"{}monitor.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}params.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}timer.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries F\+U\+S\+E\+\_\+\+U\+S\+E\+\_\+\+V\+E\+R\+S\+I\+ON}~26\hypertarget{vfs_8h_a0919197af2e154da2c05727b6d87cbda}{}\label{vfs_8h_a0919197af2e154da2c05727b6d87cbda}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{vfs_8h_a1a7be9b843e18a92b84827243e28a538}{vfs\+\_\+fullpath} (char fpath\mbox{[}P\+A\+T\+H\+\_\+\+M\+AX\mbox{]}, const char $\ast$path)
\item 
int \hyperlink{vfs_8h_a7e80a930d392a794f4c64ec360af6507}{vfs\+\_\+getattr} (const char $\ast$path, struct stat $\ast$stbuf)
\item 
int \hyperlink{vfs_8h_af44b2f24a9e8d70ab980f7e43648dbc8}{vfs\+\_\+fgetattr} (const char $\ast$path, struct stat $\ast$stbuf, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
int \hyperlink{vfs_8h_a7c0df1933aa9ee2ba74063e1fd7a7ead}{vfs\+\_\+access} (const char $\ast$path, int mask)
\item 
int \hyperlink{vfs_8h_a7c5746511f28a5157c084cb03c582e6c}{vfs\+\_\+readlink} (const char $\ast$path, char $\ast$buf, size\+\_\+t size)
\item 
int \hyperlink{vfs_8h_a0f32defb80a34a21ded38c8522f142b8}{vfs\+\_\+readdir} (const char $\ast$path, void $\ast$buf, fuse\+\_\+fill\+\_\+dir\+\_\+t filler, off\+\_\+t offset, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
int \hyperlink{vfs_8h_a6239059b22d636568f35baf6b22f80ee}{vfs\+\_\+mknod} (const char $\ast$path, mode\+\_\+t mode, dev\+\_\+t rdev)
\item 
int \hyperlink{vfs_8h_ae17a379f677cbe4fcf5ffda6c010c6a0}{vfs\+\_\+mkdir} (const char $\ast$path, mode\+\_\+t mode)
\item 
int \hyperlink{vfs_8h_ad360f14648c28e3e8f28012a6a7a4ce8}{vfs\+\_\+releasedir} (const char $\ast$path, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
int \hyperlink{vfs_8h_a7101805f3efc3366b40acfe30a079982}{vfs\+\_\+unlink} (const char $\ast$path)
\item 
int \hyperlink{vfs_8h_a785e5625447c9e28a077f2a9ad9dfaf7}{vfs\+\_\+rmdir} (const char $\ast$path)
\item 
int \hyperlink{vfs_8h_a2afcc2ce55b094df784ff7e5a238be13}{vfs\+\_\+symlink} (const char $\ast$path, const char $\ast$link)
\item 
int \hyperlink{vfs_8h_a6b6885fe602ef139e715e4beea1fc0e7}{vfs\+\_\+rename} (const char $\ast$path, const char $\ast$newpath)
\item 
int \hyperlink{vfs_8h_adab12bf92f1ef4ddb019ab4ec3432391}{vfs\+\_\+link} (const char $\ast$path, const char $\ast$newpath)
\item 
int \hyperlink{vfs_8h_aa9b5465a41a9a25b13c463d3d7ee66e0}{vfs\+\_\+chmod} (const char $\ast$path, mode\+\_\+t mode)
\item 
int \hyperlink{vfs_8h_ad1888d1b53623f155a03bd01007571b9}{vfs\+\_\+chown} (const char $\ast$path, uid\+\_\+t uid, gid\+\_\+t gid)
\item 
int \hyperlink{vfs_8h_a1f8dcf585958a16064081ef075c2b0c6}{vfs\+\_\+truncate} (const char $\ast$path, off\+\_\+t size)
\item 
int \hyperlink{vfs_8h_ae468524d794e598f096c3270f90b924a}{vfs\+\_\+utime} (const char $\ast$path, struct utimbuf $\ast$ubuf)
\item 
int \hyperlink{vfs_8h_a49c6e2fa7bdfd07e27f62a9a6ac07649}{vfs\+\_\+utimens} (const char $\ast$path, const struct timespec ts\mbox{[}2\mbox{]})
\item 
int \hyperlink{vfs_8h_a642a4057809029414a6253a3d86c65ff}{vfs\+\_\+open} (const char $\ast$path, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
int \hyperlink{vfs_8h_a46130586ab0aab5d3f030d491bc7eab9}{vfs\+\_\+read} (const char $\ast$path, char $\ast$buf, size\+\_\+t size, off\+\_\+t offset, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
int \hyperlink{vfs_8h_a8e7ce97ca4a2c13f082fcc635c7be1b3}{vfs\+\_\+write} (const char $\ast$path, const char $\ast$buf, size\+\_\+t size, off\+\_\+t offset, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
int \hyperlink{vfs_8h_aa886e680cd981294b8a0d17aee54d975}{vfs\+\_\+statfs} (const char $\ast$path, struct statvfs $\ast$stbuf)
\item 
int \hyperlink{vfs_8h_a5c9b3ba5fec7de96767ab9f08e49b90b}{vfs\+\_\+opendir} (const char $\ast$path, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
int \hyperlink{vfs_8h_a4461f2af3f15e0f1d3a0cdf7b24cebb2}{vfs\+\_\+release} (const char $\ast$path, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
int \hyperlink{vfs_8h_aae37f2b189c09c2d566fd82dd9930847}{vfs\+\_\+fsync} (const char $\ast$path, int isdatasync, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
int \hyperlink{vfs_8h_af8394e5678617004f7b11e81f031197a}{vfs\+\_\+fallocate} (const char $\ast$path, int mode, off\+\_\+t offset, off\+\_\+t length, struct fuse\+\_\+file\+\_\+info $\ast$fi)
\item 
void \hyperlink{vfs_8h_afbd85173dbcece822e3981e2c7c88a5d}{set\+\_\+new\+\_\+written\+\_\+time\+\_\+to\+\_\+current\+\_\+time} ()
\item 
int \hyperlink{vfs_8h_a80299869bf06f7bedb90639b20a165da}{initialize\+\_\+vfs} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]}, struct \hyperlink{structvfs__state}{vfs\+\_\+state} $\ast$vfs\+\_\+data)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This file defines our safe filesystem that mounts from the mount directory from the user input to the root directory 

\subsection{Function Documentation}
\index{vfs.\+h@{vfs.\+h}!initialize\+\_\+vfs@{initialize\+\_\+vfs}}
\index{initialize\+\_\+vfs@{initialize\+\_\+vfs}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{initialize\+\_\+vfs(int argc, char $\ast$argv[], struct vfs\+\_\+state $\ast$vfs\+\_\+data)}{initialize_vfs(int argc, char *argv[], struct vfs_state *vfs_data)}}]{\setlength{\rightskip}{0pt plus 5cm}int initialize\+\_\+vfs (
\begin{DoxyParamCaption}
\item[{int}]{argc, }
\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]}, }
\item[{struct {\bf vfs\+\_\+state} $\ast$}]{vfs\+\_\+data}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a80299869bf06f7bedb90639b20a165da}{}\label{vfs_8h_a80299869bf06f7bedb90639b20a165da}
Intilializes the safe file system


\begin{DoxyParams}{Parameters}
{\em Command} & line argument count \\
\hline
{\em Command} & line arguments \\
\hline
{\em Struct} & containing the mount and root directories \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Return status of fuse\+\_\+main 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!set\+\_\+new\+\_\+written\+\_\+time\+\_\+to\+\_\+current\+\_\+time@{set\+\_\+new\+\_\+written\+\_\+time\+\_\+to\+\_\+current\+\_\+time}}
\index{set\+\_\+new\+\_\+written\+\_\+time\+\_\+to\+\_\+current\+\_\+time@{set\+\_\+new\+\_\+written\+\_\+time\+\_\+to\+\_\+current\+\_\+time}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{set\+\_\+new\+\_\+written\+\_\+time\+\_\+to\+\_\+current\+\_\+time()}{set_new_written_time_to_current_time()}}]{\setlength{\rightskip}{0pt plus 5cm}void set\+\_\+new\+\_\+written\+\_\+time\+\_\+to\+\_\+current\+\_\+time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_afbd85173dbcece822e3981e2c7c88a5d}{}\label{vfs_8h_afbd85173dbcece822e3981e2c7c88a5d}
Sets the L\+A\+S\+T\+\_\+\+T\+I\+M\+E\+\_\+\+W\+R\+I\+T\+T\+EN attribute to current system time \index{vfs.\+h@{vfs.\+h}!vfs\+\_\+access@{vfs\+\_\+access}}
\index{vfs\+\_\+access@{vfs\+\_\+access}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+access(const char $\ast$path, int mask)}{vfs_access(const char *path, int mask)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+access (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{int}]{mask}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a7c0df1933aa9ee2ba74063e1fd7a7ead}{}\label{vfs_8h_a7c0df1933aa9ee2ba74063e1fd7a7ead}
Access file


\begin{DoxyParams}{Parameters}
{\em Path} & to file \\
\hline
{\em File} & mask \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if access failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+chmod@{vfs\+\_\+chmod}}
\index{vfs\+\_\+chmod@{vfs\+\_\+chmod}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+chmod(const char $\ast$path, mode\+\_\+t mode)}{vfs_chmod(const char *path, mode_t mode)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+chmod (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{mode\+\_\+t}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_aa9b5465a41a9a25b13c463d3d7ee66e0}{}\label{vfs_8h_aa9b5465a41a9a25b13c463d3d7ee66e0}
Change object priviledges


\begin{DoxyParams}{Parameters}
{\em Object} & path \\
\hline
{\em Desired} & priviledges \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if chmod (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+chown@{vfs\+\_\+chown}}
\index{vfs\+\_\+chown@{vfs\+\_\+chown}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+chown(const char $\ast$path, uid\+\_\+t uid, gid\+\_\+t gid)}{vfs_chown(const char *path, uid_t uid, gid_t gid)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+chown (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{uid\+\_\+t}]{uid, }
\item[{gid\+\_\+t}]{gid}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_ad1888d1b53623f155a03bd01007571b9}{}\label{vfs_8h_ad1888d1b53623f155a03bd01007571b9}
Change object owner


\begin{DoxyParams}{Parameters}
{\em Object} & path \\
\hline
{\em Desired} & user id \\
\hline
{\em Desired} & global id \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if symlink (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+fallocate@{vfs\+\_\+fallocate}}
\index{vfs\+\_\+fallocate@{vfs\+\_\+fallocate}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+fallocate(const char $\ast$path, int mode, off\+\_\+t offset, off\+\_\+t length, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_fallocate(const char *path, int mode, off_t offset, off_t length, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+fallocate (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{int}]{mode, }
\item[{off\+\_\+t}]{offset, }
\item[{off\+\_\+t}]{length, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_af8394e5678617004f7b11e81f031197a}{}\label{vfs_8h_af8394e5678617004f7b11e81f031197a}
Allocates file to memory


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em Desired} & file mode \\
\hline
{\em File} & offset \\
\hline
{\em Desired} & allocation length \\
\hline
{\em F\+U\+SE} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if open (2) failed or posix\+\_\+fallocate (2), else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+fgetattr@{vfs\+\_\+fgetattr}}
\index{vfs\+\_\+fgetattr@{vfs\+\_\+fgetattr}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+fgetattr(const char $\ast$path, struct stat $\ast$stbuf, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_fgetattr(const char *path, struct stat *stbuf, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+fgetattr (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{struct stat $\ast$}]{stbuf, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_af44b2f24a9e8d70ab980f7e43648dbc8}{}\label{vfs_8h_af44b2f24a9e8d70ab980f7e43648dbc8}
Gets attributes from file


\begin{DoxyParams}{Parameters}
{\em Path} & to file \\
\hline
{\em Empty} & stat buffer \\
\hline
{\em F\+U\+SE} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+N\+O\+E\+NT if failed to get file attributes, else 0 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+fsync@{vfs\+\_\+fsync}}
\index{vfs\+\_\+fsync@{vfs\+\_\+fsync}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+fsync(const char $\ast$path, int isdatasync, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_fsync(const char *path, int isdatasync, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+fsync (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{int}]{isdatasync, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_aae37f2b189c09c2d566fd82dd9930847}{}\label{vfs_8h_aae37f2b189c09c2d566fd82dd9930847}
Synchronises file


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em Is} & data synchronisation enabled \\
\hline
{\em F\+U\+SE} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if fdatasync/fsync (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+fullpath@{vfs\+\_\+fullpath}}
\index{vfs\+\_\+fullpath@{vfs\+\_\+fullpath}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+fullpath(char fpath[P\+A\+T\+H\+\_\+\+M\+AX], const char $\ast$path)}{vfs_fullpath(char fpath[PATH_MAX], const char *path)}}]{\setlength{\rightskip}{0pt plus 5cm}void vfs\+\_\+fullpath (
\begin{DoxyParamCaption}
\item[{char}]{fpath\mbox{[}\+P\+A\+T\+H\+\_\+\+M\+A\+X\mbox{]}, }
\item[{const char $\ast$}]{path}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a1a7be9b843e18a92b84827243e28a538}{}\label{vfs_8h_a1a7be9b843e18a92b84827243e28a538}
Creates our remount monitor thread and initalizes our safe filsystem.


\begin{DoxyParams}{Parameters}
{\em Character} & array to contain new filepath resolved against rootpath \\
\hline
{\em Current} & filepath \\
\hline
\end{DoxyParams}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+getattr@{vfs\+\_\+getattr}}
\index{vfs\+\_\+getattr@{vfs\+\_\+getattr}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+getattr(const char $\ast$path, struct stat $\ast$stbuf)}{vfs_getattr(const char *path, struct stat *stbuf)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+getattr (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{struct stat $\ast$}]{stbuf}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a7e80a930d392a794f4c64ec360af6507}{}\label{vfs_8h_a7e80a930d392a794f4c64ec360af6507}
Gets attributes from object


\begin{DoxyParams}{Parameters}
{\em Path} & to object \\
\hline
{\em Empty} & stat buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
E\+N\+O\+E\+NT if failed to get object attributes, else 0 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+link@{vfs\+\_\+link}}
\index{vfs\+\_\+link@{vfs\+\_\+link}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+link(const char $\ast$path, const char $\ast$newpath)}{vfs_link(const char *path, const char *newpath)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+link (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{const char $\ast$}]{newpath}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_adab12bf92f1ef4ddb019ab4ec3432391}{}\label{vfs_8h_adab12bf92f1ef4ddb019ab4ec3432391}
Links two paths


\begin{DoxyParams}{Parameters}
{\em Object} & path \\
\hline
{\em Desired} & new path \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if link (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+mkdir@{vfs\+\_\+mkdir}}
\index{vfs\+\_\+mkdir@{vfs\+\_\+mkdir}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+mkdir(const char $\ast$path, mode\+\_\+t mode)}{vfs_mkdir(const char *path, mode_t mode)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+mkdir (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{mode\+\_\+t}]{mode}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_ae17a379f677cbe4fcf5ffda6c010c6a0}{}\label{vfs_8h_ae17a379f677cbe4fcf5ffda6c010c6a0}
Create directory


\begin{DoxyParams}{Parameters}
{\em Desired} & creation path \\
\hline
{\em Object} & mode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if mkdir (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+mknod@{vfs\+\_\+mknod}}
\index{vfs\+\_\+mknod@{vfs\+\_\+mknod}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+mknod(const char $\ast$path, mode\+\_\+t mode, dev\+\_\+t rdev)}{vfs_mknod(const char *path, mode_t mode, dev_t rdev)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+mknod (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{mode\+\_\+t}]{mode, }
\item[{dev\+\_\+t}]{rdev}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a6239059b22d636568f35baf6b22f80ee}{}\label{vfs_8h_a6239059b22d636568f35baf6b22f80ee}
Create filesystem node


\begin{DoxyParams}{Parameters}
{\em Desired} & creation path \\
\hline
{\em File} & mode \\
\hline
{\em rdev} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if mknod (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+open@{vfs\+\_\+open}}
\index{vfs\+\_\+open@{vfs\+\_\+open}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+open(const char $\ast$path, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_open(const char *path, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+open (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a642a4057809029414a6253a3d86c65ff}{}\label{vfs_8h_a642a4057809029414a6253a3d86c65ff}
Opens file


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em F\+U\+SE} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if open (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+opendir@{vfs\+\_\+opendir}}
\index{vfs\+\_\+opendir@{vfs\+\_\+opendir}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+opendir(const char $\ast$path, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_opendir(const char *path, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+opendir (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a5c9b3ba5fec7de96767ab9f08e49b90b}{}\label{vfs_8h_a5c9b3ba5fec7de96767ab9f08e49b90b}
Opens directory


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em F\+U\+SE} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if opendir (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+read@{vfs\+\_\+read}}
\index{vfs\+\_\+read@{vfs\+\_\+read}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+read(const char $\ast$path, char $\ast$buf, size\+\_\+t size, off\+\_\+t offset, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_read(const char *path, char *buf, size_t size, off_t offset, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+read (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{char $\ast$}]{buf, }
\item[{size\+\_\+t}]{size, }
\item[{off\+\_\+t}]{offset, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a46130586ab0aab5d3f030d491bc7eab9}{}\label{vfs_8h_a46130586ab0aab5d3f030d491bc7eab9}
Reads file


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em Char} & buffer to store information \\
\hline
{\em Size} & of expected input to buffer \\
\hline
{\em Offset} & of buffer \\
\hline
{\em F\+U\+SE} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if pread (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+readdir@{vfs\+\_\+readdir}}
\index{vfs\+\_\+readdir@{vfs\+\_\+readdir}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+readdir(const char $\ast$path, void $\ast$buf, fuse\+\_\+fill\+\_\+dir\+\_\+t filler, off\+\_\+t offset, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_readdir(const char *path, void *buf, fuse_fill_dir_t filler, off_t offset, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+readdir (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{void $\ast$}]{buf, }
\item[{fuse\+\_\+fill\+\_\+dir\+\_\+t}]{filler, }
\item[{off\+\_\+t}]{offset, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a0f32defb80a34a21ded38c8522f142b8}{}\label{vfs_8h_a0f32defb80a34a21ded38c8522f142b8}
Read directory contents


\begin{DoxyParams}{Parameters}
{\em Path} & to directory \\
\hline
{\em Empty} & character buffer \\
\hline
{\em F\+U\+SE} & filler \\
\hline
{\em Buffer} & offset \\
\hline
{\em F\+U\+SE} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+readlink@{vfs\+\_\+readlink}}
\index{vfs\+\_\+readlink@{vfs\+\_\+readlink}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+readlink(const char $\ast$path, char $\ast$buf, size\+\_\+t size)}{vfs_readlink(const char *path, char *buf, size_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+readlink (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{char $\ast$}]{buf, }
\item[{size\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a7c5746511f28a5157c084cb03c582e6c}{}\label{vfs_8h_a7c5746511f28a5157c084cb03c582e6c}
Read symlink


\begin{DoxyParams}{Parameters}
{\em Path} & to symlink \\
\hline
{\em Empty} & character buffer \\
\hline
{\em Size} & of returned path \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if readlink (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+release@{vfs\+\_\+release}}
\index{vfs\+\_\+release@{vfs\+\_\+release}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+release(const char $\ast$path, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_release(const char *path, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+release (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a4461f2af3f15e0f1d3a0cdf7b24cebb2}{}\label{vfs_8h_a4461f2af3f15e0f1d3a0cdf7b24cebb2}
Releases object


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em F\+U\+SE} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if release (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+releasedir@{vfs\+\_\+releasedir}}
\index{vfs\+\_\+releasedir@{vfs\+\_\+releasedir}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+releasedir(const char $\ast$path, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_releasedir(const char *path, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+releasedir (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_ad360f14648c28e3e8f28012a6a7a4ce8}{}\label{vfs_8h_ad360f14648c28e3e8f28012a6a7a4ce8}
Releases directory


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em Fuse} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+rename@{vfs\+\_\+rename}}
\index{vfs\+\_\+rename@{vfs\+\_\+rename}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+rename(const char $\ast$path, const char $\ast$newpath)}{vfs_rename(const char *path, const char *newpath)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+rename (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{const char $\ast$}]{newpath}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a6b6885fe602ef139e715e4beea1fc0e7}{}\label{vfs_8h_a6b6885fe602ef139e715e4beea1fc0e7}
Renames object


\begin{DoxyParams}{Parameters}
{\em Object} & path \\
\hline
{\em Desired} & new path \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if symlink (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+rmdir@{vfs\+\_\+rmdir}}
\index{vfs\+\_\+rmdir@{vfs\+\_\+rmdir}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+rmdir(const char $\ast$path)}{vfs_rmdir(const char *path)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+rmdir (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a785e5625447c9e28a077f2a9ad9dfaf7}{}\label{vfs_8h_a785e5625447c9e28a077f2a9ad9dfaf7}
Removes directory


\begin{DoxyParams}{Parameters}
{\em Directory} & path \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if rmdir (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+statfs@{vfs\+\_\+statfs}}
\index{vfs\+\_\+statfs@{vfs\+\_\+statfs}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+statfs(const char $\ast$path, struct statvfs $\ast$stbuf)}{vfs_statfs(const char *path, struct statvfs *stbuf)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+statfs (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{struct statvfs $\ast$}]{stbuf}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_aa886e680cd981294b8a0d17aee54d975}{}\label{vfs_8h_aa886e680cd981294b8a0d17aee54d975}
Gets file system statistics


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em statvfs} & buffer to store statistics \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if statvfs (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+symlink@{vfs\+\_\+symlink}}
\index{vfs\+\_\+symlink@{vfs\+\_\+symlink}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+symlink(const char $\ast$path, const char $\ast$link)}{vfs_symlink(const char *path, const char *link)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+symlink (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{const char $\ast$}]{link}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a2afcc2ce55b094df784ff7e5a238be13}{}\label{vfs_8h_a2afcc2ce55b094df784ff7e5a238be13}
Creates symlink


\begin{DoxyParams}{Parameters}
{\em Object} & path \\
\hline
{\em Destination} & link \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if symlink (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+truncate@{vfs\+\_\+truncate}}
\index{vfs\+\_\+truncate@{vfs\+\_\+truncate}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+truncate(const char $\ast$path, off\+\_\+t size)}{vfs_truncate(const char *path, off_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+truncate (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{off\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a1f8dcf585958a16064081ef075c2b0c6}{}\label{vfs_8h_a1f8dcf585958a16064081ef075c2b0c6}
Truncates file


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em Desired} & size of truncation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if truncate (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+unlink@{vfs\+\_\+unlink}}
\index{vfs\+\_\+unlink@{vfs\+\_\+unlink}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+unlink(const char $\ast$path)}{vfs_unlink(const char *path)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+unlink (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a7101805f3efc3366b40acfe30a079982}{}\label{vfs_8h_a7101805f3efc3366b40acfe30a079982}
Unlinks symlinks


\begin{DoxyParams}{Parameters}
{\em Symlink} & path \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if unlink (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+utime@{vfs\+\_\+utime}}
\index{vfs\+\_\+utime@{vfs\+\_\+utime}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+utime(const char $\ast$path, struct utimbuf $\ast$ubuf)}{vfs_utime(const char *path, struct utimbuf *ubuf)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+utime (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{struct utimbuf $\ast$}]{ubuf}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_ae468524d794e598f096c3270f90b924a}{}\label{vfs_8h_ae468524d794e598f096c3270f90b924a}
Gets utime from object


\begin{DoxyParams}{Parameters}
{\em Object} & path \\
\hline
{\em utime} & buffer to store retrieved time \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if utime (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+utimens@{vfs\+\_\+utimens}}
\index{vfs\+\_\+utimens@{vfs\+\_\+utimens}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+utimens(const char $\ast$path, const struct timespec ts[2])}{vfs_utimens(const char *path, const struct timespec ts[2])}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+utimens (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{const struct timespec}]{ts\mbox{[}2\mbox{]}}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a49c6e2fa7bdfd07e27f62a9a6ac07649}{}\label{vfs_8h_a49c6e2fa7bdfd07e27f62a9a6ac07649}
Gets utimens from object


\begin{DoxyParams}{Parameters}
{\em Object} & path \\
\hline
{\em timespec} & struct to store retrieved time \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if utimensat (2) failed, else result of previous 
\end{DoxyReturn}
\index{vfs.\+h@{vfs.\+h}!vfs\+\_\+write@{vfs\+\_\+write}}
\index{vfs\+\_\+write@{vfs\+\_\+write}!vfs.\+h@{vfs.\+h}}
\subsubsection[{\texorpdfstring{vfs\+\_\+write(const char $\ast$path, const char $\ast$buf, size\+\_\+t size, off\+\_\+t offset, struct fuse\+\_\+file\+\_\+info $\ast$fi)}{vfs_write(const char *path, const char *buf, size_t size, off_t offset, struct fuse_file_info *fi)}}]{\setlength{\rightskip}{0pt plus 5cm}int vfs\+\_\+write (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{path, }
\item[{const char $\ast$}]{buf, }
\item[{size\+\_\+t}]{size, }
\item[{off\+\_\+t}]{offset, }
\item[{struct fuse\+\_\+file\+\_\+info $\ast$}]{fi}
\end{DoxyParamCaption}
)}\hypertarget{vfs_8h_a8e7ce97ca4a2c13f082fcc635c7be1b3}{}\label{vfs_8h_a8e7ce97ca4a2c13f082fcc635c7be1b3}
Writes to file. Sets L\+A\+S\+T\+\_\+\+T\+I\+M\+E\+\_\+\+W\+R\+I\+T\+T\+EN flag for monitor usage


\begin{DoxyParams}{Parameters}
{\em File} & path \\
\hline
{\em Char} & buffer to store information \\
\hline
{\em Size} & of expected input to buffer \\
\hline
{\em Offset} & of buffer \\
\hline
{\em F\+U\+SE} & file information \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
errno if pwrite (2) failed, else result of previous 
\end{DoxyReturn}

\hypertarget{timer_8h}{}\section{C\+:/\+Users/\+Royal/\+Desktop/sfarro/sfarro/src/timer.h File Reference}
\label{timer_8h}\index{C\+:/\+Users/\+Royal/\+Desktop/sfarro/sfarro/src/timer.\+h@{C\+:/\+Users/\+Royal/\+Desktop/sfarro/sfarro/src/timer.\+h}}
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$time.\+h$>$}\\*
{\ttfamily \#include \char`\"{}constants.\+h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
time\+\_\+t $\ast$ \hyperlink{timer_8h_a21bf4559f03706a86f66065b8a17b285}{get\+\_\+current\+\_\+time} ()
\item 
int \hyperlink{timer_8h_afc9d0d5d617235347a891263b4cf7584}{is\+\_\+last\+\_\+written\+\_\+time\+\_\+over\+\_\+limit} ()
\item 
int {\bfseries compare\+\_\+times\+\_\+to\+\_\+limit} (time\+\_\+t $\ast$last\+\_\+read, time\+\_\+t $\ast$current\+\_\+time)\hypertarget{timer_8h_a91f8aaffb9895527dec20f75faf7d74e}{}\label{timer_8h_a91f8aaffb9895527dec20f75faf7d74e}

\item 
void {\bfseries set\+\_\+new\+\_\+written\+\_\+time\+\_\+to\+\_\+current\+\_\+time} ()\hypertarget{timer_8h_afbd85173dbcece822e3981e2c7c88a5d}{}\label{timer_8h_afbd85173dbcece822e3981e2c7c88a5d}

\item 
int \hyperlink{timer_8h_a46983f167362a8ef9a7adb100371635a}{ready\+\_\+to\+\_\+remount} ()
\item 
time\+\_\+t \hyperlink{timer_8h_aa4f615d2b39e5cd08003090c9f85dcb4}{get\+\_\+last\+\_\+time\+\_\+written} ()
\item 
void \hyperlink{timer_8h_afd703255eebdfbf3998fa937be0cd4c1}{set\+\_\+last\+\_\+time\+\_\+written} (time\+\_\+t $\ast$new\+\_\+time)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
The timer handles the logic required to track when the last write was made and determines whether or not S\+F\+A\+R\+RO is ready to remount our mountpoint to readonly or not 

\subsection{Function Documentation}
\index{timer.\+h@{timer.\+h}!get\+\_\+current\+\_\+time@{get\+\_\+current\+\_\+time}}
\index{get\+\_\+current\+\_\+time@{get\+\_\+current\+\_\+time}!timer.\+h@{timer.\+h}}
\subsubsection[{\texorpdfstring{get\+\_\+current\+\_\+time()}{get_current_time()}}]{\setlength{\rightskip}{0pt plus 5cm}time\+\_\+t$\ast$ get\+\_\+current\+\_\+time (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{timer_8h_a21bf4559f03706a86f66065b8a17b285}{}\label{timer_8h_a21bf4559f03706a86f66065b8a17b285}
Gets the current time of the system as a Unix timestamp \begin{DoxyReturn}{Returns}
Current timestamp of system on invocation 
\end{DoxyReturn}
\index{timer.\+h@{timer.\+h}!get\+\_\+last\+\_\+time\+\_\+written@{get\+\_\+last\+\_\+time\+\_\+written}}
\index{get\+\_\+last\+\_\+time\+\_\+written@{get\+\_\+last\+\_\+time\+\_\+written}!timer.\+h@{timer.\+h}}
\subsubsection[{\texorpdfstring{get\+\_\+last\+\_\+time\+\_\+written()}{get_last_time_written()}}]{\setlength{\rightskip}{0pt plus 5cm}time\+\_\+t get\+\_\+last\+\_\+time\+\_\+written (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{timer_8h_aa4f615d2b39e5cd08003090c9f85dcb4}{}\label{timer_8h_aa4f615d2b39e5cd08003090c9f85dcb4}
Accessor for L\+A\+S\+T\+\_\+\+T\+I\+M\+E\+\_\+\+W\+R\+I\+T\+T\+EN method \begin{DoxyReturn}{Returns}
1 if ready to remount, otherwise return 0 
\end{DoxyReturn}
\index{timer.\+h@{timer.\+h}!is\+\_\+last\+\_\+written\+\_\+time\+\_\+over\+\_\+limit@{is\+\_\+last\+\_\+written\+\_\+time\+\_\+over\+\_\+limit}}
\index{is\+\_\+last\+\_\+written\+\_\+time\+\_\+over\+\_\+limit@{is\+\_\+last\+\_\+written\+\_\+time\+\_\+over\+\_\+limit}!timer.\+h@{timer.\+h}}
\subsubsection[{\texorpdfstring{is\+\_\+last\+\_\+written\+\_\+time\+\_\+over\+\_\+limit()}{is_last_written_time_over_limit()}}]{\setlength{\rightskip}{0pt plus 5cm}int is\+\_\+last\+\_\+written\+\_\+time\+\_\+over\+\_\+limit (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{timer_8h_afc9d0d5d617235347a891263b4cf7584}{}\label{timer_8h_afc9d0d5d617235347a891263b4cf7584}
Gets the current time of the system as a Unix timestamp \begin{DoxyReturn}{Returns}
Current timestamp of system on invocation 
\end{DoxyReturn}
\index{timer.\+h@{timer.\+h}!ready\+\_\+to\+\_\+remount@{ready\+\_\+to\+\_\+remount}}
\index{ready\+\_\+to\+\_\+remount@{ready\+\_\+to\+\_\+remount}!timer.\+h@{timer.\+h}}
\subsubsection[{\texorpdfstring{ready\+\_\+to\+\_\+remount()}{ready_to_remount()}}]{\setlength{\rightskip}{0pt plus 5cm}int ready\+\_\+to\+\_\+remount (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\hypertarget{timer_8h_a46983f167362a8ef9a7adb100371635a}{}\label{timer_8h_a46983f167362a8ef9a7adb100371635a}
Checks if S\+F\+A\+R\+RO should remount the mountpoint \begin{DoxyReturn}{Returns}
1 if ready to remount, otherwise return 0 
\end{DoxyReturn}
\index{timer.\+h@{timer.\+h}!set\+\_\+last\+\_\+time\+\_\+written@{set\+\_\+last\+\_\+time\+\_\+written}}
\index{set\+\_\+last\+\_\+time\+\_\+written@{set\+\_\+last\+\_\+time\+\_\+written}!timer.\+h@{timer.\+h}}
\subsubsection[{\texorpdfstring{set\+\_\+last\+\_\+time\+\_\+written(time\+\_\+t $\ast$new\+\_\+time)}{set_last_time_written(time_t *new_time)}}]{\setlength{\rightskip}{0pt plus 5cm}void set\+\_\+last\+\_\+time\+\_\+written (
\begin{DoxyParamCaption}
\item[{time\+\_\+t $\ast$}]{new\+\_\+time}
\end{DoxyParamCaption}
)}\hypertarget{timer_8h_afd703255eebdfbf3998fa937be0cd4c1}{}\label{timer_8h_afd703255eebdfbf3998fa937be0cd4c1}
Mutator for L\+A\+S\+T\+\_\+\+T\+I\+M\+E\+\_\+\+W\+R\+I\+T\+T\+EN method \begin{DoxyReturn}{Returns}
1 if ready to remount, otherwise return 0 
\end{DoxyReturn}
